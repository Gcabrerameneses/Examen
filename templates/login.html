<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
</head>

    <body>

            <header>

                <!--NavBar-->
                <nav class="navbar navbar-dark bg-secondary">
                    <a class="navbar-brand" href="index.html">Full Anime</a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav">

                            <li class="nav-item active">
                                <a class="nav-link" href="\templates/registro.html">Registro</a>
                            </li>
                
                            <li class="nav-item active">
                            <a class="nav-link" href="\templates/login.html">login</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link"  href="\templates\producto.html">Productos</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link"  href="\templates\historial.html">Historial</a>
                        </li>        
                        </ul>
                    </div>
                    </nav>

                <!--NavBar-->
            </header>

        <!--  Lo del Body desde ACA-->
        <div class="container">
            <div class="row">
                <div class="col-md-6 mx-auto mt-5">
                    <form id="login-form">
                    <form>
                        <div class="mb-3">
                            <label for="email" class="form-label">Correo</label>
                            <input type="email"  id="email" name ="email"  class="form-control" required>
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label">Contraseña</label>
                            <input type="password" class="form-control" id="password" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Ingresar</button>
                        <!-- <button type="submit" class="btn btn-danger">Olvide mi contraseña</button> -->
                    </form>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <section class="about my-5">
                <div class="col-12">
                    <div class="jumbotron">
                        <h1 class="display-4">Proximos lanzamientos!</h1>
                        <p class="lead">Mayo 2023.</p>
                        <hr class="my-4">
                        <p>Lanzamientos.</p>
                        <div class="row">
                            <div class="col-sm-12 col-md-6 col-xl-4">
                                <div class="card mt-3" style="width: 18rem;">
                                    <img src="../imagenes//gon.png" class="card-img-top" alt="...">
                                    <div class="card-body text-center">
                                        <p class="card-text">Hunter X Hunter <br>
                                            01 de Mayo</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6 col-xl-4">
                                <div class="card mt-3" style="width: 18rem;">
                                    <img src="../imagenes//gode.png" class="card-img-top" alt="...">
                                    <div class="card-body  text-center">
                                        <p class="card-text">Code Geass<br>
                                            10 de Mayo</p>
                                    </div>
                                </div>
                            </div>
                            <div class="card mt-3" style="width: 18rem;">
                                <img src="../imagenes//one.png" class="card-img-top" alt="...">
                                <div class="card-body  text-center">
                                    <p class="card-text">Code Geass<br>
                                        10 de Mayo</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
        <script src="../Json/ajax.js"></script>
    </body>
    <script>
        $(document).ready(function() {
            // Manejar el evento de envío del formulario
            $('#login-form').submit(function(event) {
              // Detener el comportamiento predeterminado de enviar el formulario
              event.preventDefault();
            
              // Obtener los valores de los campos de correo electrónico y contraseña
              var email = $('#email').val();
              var password = $('#password').val();
            
              // Obtener los datos del almacenamiento local
              var datos = localStorage.getItem('formData');
            
              if (datos) {
                var datosObjeto = JSON.parse(datos);
            
                if (datosObjeto.email === email) {
                  // El correo electrónico existe en los datos almacenados
                  // Realiza la validación de la contraseña aquí
                  console.log('El correo electrónico existe en los datos almacenados');
                  //alert('El correo electrónico existe en los datos almacenados');
                  if (datosObjeto.password === password) {
                    // Las contraseñas coinciden
                    console.log('Login exitoso');
                    alert('Login exitoso');
                  } else {
                    // Las contraseñas no coinciden
                    console.log('Login fallido: Contraseña incorrecta');
                    alert('Login fallido: Contraseña incorrecta');
                  }

                } else {
                  // El correo electrónico no existe en los datos almacenados
                  console.log('El correo electrónico no existe en los datos almacenados');
                  alert('Usuario no registrado');
                }
              } else {
                // No hay datos almacenados
                console.log('No hay datos almacenados');
                alert('No hay datos almacenados');
              }
            });
          });
          
        </script>
</html>